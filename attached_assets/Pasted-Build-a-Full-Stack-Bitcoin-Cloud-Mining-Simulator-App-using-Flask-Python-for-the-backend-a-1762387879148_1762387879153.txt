Build a **Full-Stack Bitcoin Cloud Mining Simulator App** using **Flask (Python)** for the backend and **React + TailwindCSS** for the frontend. The project will run in Replit and deploy on **Render** (backend + PostgreSQL). It must also be structured to later export as a **mobile app (APK)** via both **PWA ‚Üí Capacitor** and **React Native rebuild** paths.
  
### ‚öôÔ∏è **Backend (Flask)**
 
 
- Use **Flask**, **Flask-SQLAlchemy**, **Flask-Migrate**, and **Flask-JWT-Extended** for RESTful API, database, and authentication.
 
- Use **PostgreSQL** in production (Render) and **SQLite** in Replit.
 
- Include `.env.example` with: `DATABASE_URL=postgresql://user:pass@host/dbname SECRET_KEY=supersecret MAINTENANCE_FEE_PERCENT=5 REFERRAL_PERCENT=3 PAYMENT_GATEWAY_API_KEY=your_finalgateway_key ` 
 
- **Folder structure:** `backend/   app/     __init__.py     config.py     models.py     routes/       auth.py       miners.py       rentals.py       referrals.py       payments.py     utils/       profit_calculator.py       api_fetcher.py   migrations/ frontend/   (React + Tailwind app) render.yaml Procfile ` 
 

  
### ü™ô **Features**
 
**Real Data Integration:**
 
 
- Fetch Bitcoin metrics from: 
 
  - Global hashrate ‚Üí `https://blockchain.info/q/hashrate`
 
  - BTC price ‚Üí `https://api.coindesk.com/v1/bpi/currentprice.json`
 
  - Difficulty & block reward ‚Üí `https://mempool.space/api/v1`
 

 
 

 
**Mining Simulation:**
 
 
- Users can rent full or fractional miners (e.g. 10 TH/s for $100).
 
- Monthly BTC profit = `(user_hashrate / global_hashrate) * block_reward * blocks_per_month`.
 
- Deduct maintenance cost (`MAINTENANCE_FEE_PERCENT`) before crediting profit.
 
- Store users, miners, rentals, referrals, and payments in PostgreSQL.
 

 
**Authentication:**
 
 
- Register/Login using JWT (email + password).
 
- Protect routes with JWT decorators.
 

 
**Referral System:**
 
 
- Each user has a referral link.
 
- Referred users‚Äô rentals generate monthly commission (`REFERRAL_PERCENT`).
 
- Commission is credited automatically each payout cycle.
 

 
**Crypto Payments (no KYC):**
 
 
- Integrate **FinalGateway** (`https://finalgateway.com`) for BTC, ETH, USDT, USDC, BNB, SOL.
 
- API workflow: 
 
  1. Create payment request on rental checkout.
 
  2. Receive webhook on transaction confirmation.
 
  3. Automatically activate the miner or fraction.
 
  4. Deduct FinalGateway fee (~0.5%) before profit calculations.
 

 
 

  
### üíª **Frontend (React + TailwindCSS)**
 
 
- Clean SaaS-style dashboard with responsive design.
 
- Dark theme, gradients, and smooth animations using **Framer Motion**.
 
- Navigation: 
 
  - Dashboard ‚Üí live BTC stats, network hashrate, user power.
 
  - Miners ‚Üí rentable models, live profit previews.
 
  - My Rentals ‚Üí active contracts, monthly earnings chart.
 
  - Referrals ‚Üí referral link, invited users, monthly rewards.
 
  - Admin ‚Üí manage miners, fees, and stats.
 

 
 

 
**UI Libraries:**
 
 
- TailwindCSS for styling.
 
- Recharts or Chart.js for hashrate/earning graphs.
 
- Shadcn/UI for cards and components.
 
- Toast notifications for payment confirmation.
 

  
### ü™ô **Example Model Schemas**
 
 
- **User**: id, email, password_hash, referral_code, referred_by
 
- **Miner**: id, name, hashrate, price_usd, efficiency, power_w
 
- **Rental**: id, user_id, miner_id, hashrate_allocated, start_date, end_date, active, total_profit_btc
 
- **Referral**: id, referrer_id, referred_id, commission_earned
 
- **Payment**: id, user_id, rental_id, amount_usd, tx_hash, status, confirmed_at
 

  
### üßæ **Deployment (Render)**
 
 
- Use `render.yaml` and `Procfile`: `web: gunicorn backend.app:app ` 
 
- Configure environment variables on Render (`DATABASE_URL`, `SECRET_KEY`, etc.).
 
- Use Render‚Äôs PostgreSQL service for production DB.
 

  
### üì± **Mobile (APK) Readiness**
 
 
1. **PWA + Capacitor path:** 
 
  - Add PWA manifest and service worker in `frontend/public/`.
 
  - Include app name, icons, splash, and theme color.
 
  - Test at `https://yourapp.onrender.com` ‚Üí ‚ÄúInstall app‚Äù works on mobile.
 
  - Use CapacitorJS to wrap the PWA into an `.apk`: `npm install -g @capacitor/cli npx cap init "CloudMiner" "com.yourdomain.cloudminer" npx cap add android npx cap copy npx cap open android ` 
 

 
 
2. **React Native rebuild path:** 
 
  - Keep backend REST endpoints (auth, miners, rentals, referrals, payments).
 
  - Create a new React Native app that consumes the same API.
 
  - Add mobile-native features like push notifications for miner activation or payouts.
 

 
 

  
### üé® **UI/UX Goals**
 
 
- Smooth, modern dashboard look (Crypto SaaS vibe).
 
- Clean spacing, rounded cards, gradients.
 
- Live charts for BTC price and network stats.
 
- Responsive layout for mobile and tablet.
 
- Optional light/dark toggle.
 

  
### ‚úÖ **Deliverables**
 
A working Replit scaffold including:
 
 
- Flask backend with modular routes
 
- PostgreSQL-ready config
 
- React + Tailwind frontend with placeholder dashboard
 
- Example API endpoints
 
- Payment + referral logic templates
 
- Render + PWA deployment configs
 
- Future-ready for APK export and mobile app rebuild.
 
MAKE A DOCUMENT.MD AND PLAN THE PROJECT STEP BY STEP AND UPDATE IT AS U GO, AND FOR NOW ONLY COMPLETE FIRST 3 STEPS

Base the design on this site :
https://www.bitdeer.com/cloud-mining/btc?filter=1...30